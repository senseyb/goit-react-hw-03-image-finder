{"version":3,"sources":["ImageGalleryItem/ImageGalleryItem.module.css","Button/Button.module.css","ImageGallery/ImageGallery.module.css","API/Pixabay.js","Button/Button.jsx","SearchBar/SearchBar.jsx","ImageGalleryItem/ImageGalleryItem.jsx","ImageGallery/ImageGallery.jsx","LoaderSpinner/LoaderSpinner.jsx","Modal/Modal.jsx","App.js","index.js","SearchBar/SearchBar.module.css"],"names":["module","exports","AUTHORIZATION_KEY","BASE_URL","fetchSearchImage","query","pageNumber","axios","get","then","response","data","hits","Button","onClick","className","styles","type","SearchBar","state","onSubmitClick","e","preventDefault","props","onSubmit","setState","onChangeQuery","value","currentTarget","this","Searchbar","Form","button","button__label","input","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","toggleModal","element","item","src","webformatURL","alt","tags","item__image","largeImageURL","ImageGallery","prevProps","prevState","length","window","scrollTo","top","document","documentElement","scrollHeight","behavior","gallery","map","id","LoaderSpinner","color","height","timeout","width","ThreeDotsThreeDotsThreeDotsThreeDots","modalRoot","querySelector","Modal","handleKeyDown","code","addEventListener","removeEventListener","onModalImage","createPortal","target","nodeName","App","showModal","isLoading","imageGalleryItems","searchQuery","onSubmitForm","togglePage","onFetchImages","onSpinnerShow","catch","error","console","log","finally","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.446cc312.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__Z1Qky\",\"item__image\":\"ImageGalleryItem_item__image__1LoIj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2zpXa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__MBd7M\"};","import axios from 'axios';\n\nconst AUTHORIZATION_KEY = '?key=20328983-97c171d0912a39316d7306b5c';\nconst BASE_URL = `https://pixabay.com/api/`;\n\nconst fetchSearchImage = (query = '', pageNumber = 1) => {\n  return axios\n    .get(\n      `${BASE_URL}${AUTHORIZATION_KEY}&q=${query}&page=${pageNumber}&image_type=photo&per_page=12`,\n    )\n    .then(response => response.data.hits);\n};\nexport default fetchSearchImage;\n","import styles from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ onClick }) => {\n  return (\n    <div>\n      <button className={styles.Button} type=\"button\" onClick={() => onClick()}>\n        Load more\n      </button>\n    </div>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { Component } from 'react';\n\nimport styles from './SearchBar.module.css';\n\nexport default class SearchBar extends Component {\n  state = {\n    query: '',\n  };\n\n  onSubmitClick = e => {\n    e.preventDefault();\n    const { query } = this.state;\n    this.props.onSubmit(query);\n    this.setState({ query: '' });\n  };\n\n  onChangeQuery = e => {\n    const { value } = e.currentTarget;\n    this.setState({ query: value });\n  };\n  render() {\n    const { query } = this.state;\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.Form} onSubmit={this.onSubmitClick}>\n          <button type=\"submit\" className={styles.button}>\n            <span className={styles.button__label}>Search</span>\n          </button>\n\n          <input\n            className={styles.input}\n            onChange={this.onChangeQuery}\n            type=\"text\"\n            value={query}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import styles from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ toggleModal, element }) => {\n  return (\n    <li className={styles.item}>\n      <img\n        src={element.webformatURL}\n        alt={element.tags}\n        className={styles.item__image}\n        onClick={() => toggleModal(element.largeImageURL)}\n      />\n    </li>\n  );\n};\nImageGalleryItem.propTypes = {\n  toggleModal: PropTypes.func.isRequired,\n  element: PropTypes.shape({\n    webformatURL: PropTypes.string.isRequired,\n    tags: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n  }),\n};\n\nexport default ImageGalleryItem;\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport styles from './ImageGallery.module.css';\n\nclass ImageGallery extends Component {\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps !== this.props && this.props.state.length > 14) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  render() {\n    const { state, toggleModal } = this.props;\n    return (\n      <ul className={styles.gallery}>\n        {state.map(element => {\n          return (\n            <ImageGalleryItem\n              key={element.id}\n              toggleModal={toggleModal}\n              element={element}\n            />\n          );\n        })}\n      </ul>\n    );\n  }\n}\n\nImageGallery.propTypes = {\n  toggleModal: PropTypes.func.isRequired,\n  state: PropTypes.arrayOf(\n    PropTypes.shape({\n      webformatURL: PropTypes.string.isRequired,\n      tags: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    }),\n  ),\n};\n\nexport default ImageGallery;\n","import Loader from 'react-loader-spinner';\n\nconst LoaderSpinner = () => {\n  return (\n    <Loader\n      type=\"MutatingDots\"\n      color=\"#00BFFF\"\n      height={100}\n      timeout={1100}\n      width={100}\n      ThreeDotsThreeDotsThreeDotsThreeDots\n    />\n  );\n};\n\nexport default LoaderSpinner;\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport './Modal.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.toggleModal();\n    }\n  };\n\n  render() {\n    const { toggleModal, onModalImage } = this.props;\n    return createPortal(\n      <div\n        className=\"Overlay\"\n        onClick={({ target }) => {\n          if (target.nodeName === 'IMG') {\n            return;\n          }\n          toggleModal();\n        }}\n      >\n        <div className=\"Modal\">\n          <img src={onModalImage} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\nModal.propTypes = {\n  onModalImage: PropTypes.string,\n  toggleModal: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import { Component } from 'react';\nimport './App.css';\nimport fetchSearchImage from './API/Pixabay';\nimport Button from './Button';\nimport SearchBar from './SearchBar';\nimport ImageGallery from './ImageGallery';\nimport LoaderSpinner from './LoaderSpinner';\nimport Modal from './Modal';\n\nclass App extends Component {\n  state = {\n    showModal: false,\n    isLoading: false,\n    onModalImage: '',\n    imageGalleryItems: [],\n    searchQuery: '',\n    pageNumber: 1,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.searchQuery !== prevState.searchQuery) {\n      this.onFetchImages();\n    }\n  }\n\n  toggleModal = (data = '') => {\n    this.setState(({ showModal }) => {\n      return { showModal: !showModal, onModalImage: data };\n    });\n  };\n\n  onSubmitForm = data => {\n    this.setState({ searchQuery: data, imageGalleryItems: [], togglePage: 1 });\n  };\n\n  onFetchImages = () => {\n    const { searchQuery, pageNumber } = this.state;\n\n    this.onSpinnerShow();\n\n    fetchSearchImage(searchQuery, pageNumber)\n      .then(hits => {\n        this.setState(({ imageGalleryItems, pageNumber }) => {\n          return {\n            imageGalleryItems: [...imageGalleryItems, ...hits],\n            pageNumber: pageNumber + 1,\n          };\n        });\n      })\n      .catch(error => console.log(error))\n      .finally(this.onSpinnerShow());\n  };\n\n  onSpinnerShow = () => {\n    this.setState(prevState => {\n      return { isLoading: !prevState.isLoading };\n    });\n  };\n\n  render() {\n    const { imageGalleryItems, onModalImage, isLoading, showModal } =\n      this.state;\n    return (\n      <div className=\"App\">\n        <SearchBar onSubmit={this.onSubmitForm} />\n\n        <ImageGallery\n          toggleModal={this.toggleModal}\n          state={imageGalleryItems}\n        />\n        {imageGalleryItems.length > 0 && !isLoading && (\n          <Button onClick={this.onFetchImages} />\n        )}\n        {isLoading && <LoaderSpinner />}\n\n        {showModal && (\n          <Modal toggleModal={this.toggleModal} onModalImage={onModalImage} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__3_78u\",\"Form\":\"SearchBar_Form__3tEl4\",\"button\":\"SearchBar_button__2Wjjy\",\"button__label\":\"SearchBar_button__label__2H8xW\",\"input\":\"SearchBar_input__pNG5X\"};"],"sourceRoot":""}