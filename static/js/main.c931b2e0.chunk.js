(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{11:function(e,t,n){e.exports={item:"ImageGalleryItem_item__Z1Qky",item__image:"ImageGalleryItem_item__image__1LoIj"}},22:function(e,t,n){e.exports={Button:"Button_Button__2zpXa"}},23:function(e,t,n){e.exports={gallery:"ImageGallery_gallery__MBd7M"}},29:function(e,t,n){},30:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=n(9),c=n.n(r),i=(n(29),n(12)),l=n(4),s=n(5),u=n(7),h=n(6),m=(n(30),n(21)),g=n.n(m),d="?key=20328983-97c171d0912a39316d7306b5c",b="https://pixabay.com/api/",p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return g.a.get("".concat(b).concat(d,"&q=").concat(e,"&page=").concat(t,"&image_type=photo&per_page=12")).then((function(e){return e.data.hits}))},j=n(22),f=n.n(j),y=n(0),v=function(e){var t=e.onClick;return Object(y.jsx)("div",{children:Object(y.jsx)("button",{className:f.a.Button,type:"button",onClick:function(){return t()},children:"Load more"})})},O=n(8),_=n.n(O),S=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={query:""},e.onSubmitClick=function(t){t.preventDefault();var n=e.state.query;e.props.onSubmit(n),e.setState({query:""})},e.onChangeQuery=function(t){var n=t.currentTarget.value;e.setState({query:n})},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state.query;return Object(y.jsx)("header",{className:_.a.Searchbar,children:Object(y.jsxs)("form",{className:_.a.Form,onSubmit:this.onSubmitClick,children:[Object(y.jsx)("button",{type:"submit",className:_.a.button,children:Object(y.jsx)("span",{className:_.a.button__label,children:"Search"})}),Object(y.jsx)("input",{className:_.a.input,onChange:this.onChangeQuery,type:"text",value:e,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}}]),n}(a.Component),x=n(11),w=n.n(x),M=function(e){var t=e.toggleModal,n=e.element;return Object(y.jsx)("li",{className:w.a.item,children:Object(y.jsx)("img",{src:n.webformatURL,alt:n.tags,className:w.a.item__image,onClick:function(){return t(n.largeImageURL)}})})},I=n(23),k=n.n(I),N=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e,t){e!==this.props&&this.props.state.length>14&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this.props,t=e.state,n=e.toggleModal;return Object(y.jsx)("ul",{className:k.a.gallery,children:t.map((function(e){return Object(y.jsx)(M,{toggleModal:n,element:e},e.id)}))})}}]),n}(a.Component),C=n(24),B=n.n(C),D=function(){return Object(y.jsx)(B.a,{type:"MutatingDots",color:"#00BFFF",height:100,timeout:1100,width:100,ThreeDotsThreeDotsThreeDotsThreeDots:!0})},F=(n(70),document.querySelector("#modal-root")),G=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).handleKeyDown=function(t){"Escape"===t.code&&e.props.toggleModal()},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.toggleModal,n=e.onModalImage;return Object(r.createPortal)(Object(y.jsx)("div",{className:"Overlay",onClick:function(e){"IMG"!==e.target.nodeName&&t()},children:Object(y.jsx)("div",{className:"Modal",children:Object(y.jsx)("img",{src:n,alt:""})})}),F)}}]),n}(a.Component),L=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={showModal:!1,isLoading:!1,onModalImage:"",imageGalleryItems:[],searchQuery:"",pageNumber:1},e.toggleModal=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.setState((function(e){return{showModal:!e.showModal,onModalImage:t}}))},e.onSubmitForm=function(t){e.setState({searchQuery:t,imageGalleryItems:[],togglePage:1})},e.onFetchImages=function(){var t=e.state,n=t.searchQuery,a=t.pageNumber;e.onSpinnerShow(),p(n,a).then((function(t){e.setState((function(e){var n=e.imageGalleryItems,a=e.pageNumber;return{imageGalleryItems:[].concat(Object(i.a)(n),Object(i.a)(t)),pageNumber:a+1}}))})).catch((function(e){return console.log(e)})).finally(e.onSpinnerShow())},e.onSpinnerShow=function(){e.setState((function(e){return{isLoading:!e.isLoading}}))},e}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e,t){this.state.searchQuery!==t.searchQuery&&this.onFetchImages()}},{key:"render",value:function(){var e=this.state,t=e.imageGalleryItems,n=e.onModalImage,a=e.isLoading,o=e.showModal;return Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)(S,{onSubmit:this.onSubmitForm}),Object(y.jsx)(N,{toggleModal:this.toggleModal,state:t}),t.length>0&&!a&&Object(y.jsx)(v,{onClick:this.onFetchImages}),a&&Object(y.jsx)(D,{}),o&&Object(y.jsx)(G,{toggleModal:this.toggleModal,onModalImage:n})]})}}]),n}(a.Component);c.a.render(Object(y.jsx)(o.a.StrictMode,{children:Object(y.jsx)(L,{})}),document.getElementById("root"))},8:function(e,t,n){e.exports={Searchbar:"SearchBar_Searchbar__3_78u",Form:"SearchBar_Form__3tEl4",button:"SearchBar_button__2Wjjy",button__label:"SearchBar_button__label__2H8xW",input:"SearchBar_input__pNG5X"}}},[[71,1,2]]]);
//# sourceMappingURL=main.c931b2e0.chunk.js.map